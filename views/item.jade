html
 head
  link(href='https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css',rel='stylesheet')
  link(href='./static/app.css',rel='stylesheet')
  script(src='//cdnjs.cloudflare.com/ajax/libs/Chart.js/0.2.0/Chart.min.js')
  script(src='./static/chart.js')
  script(src='./chart?id='+code+'&cb=loaded')
 body
  .container
   h2
    span.label.label-success.pull-left= code
    span &nbsp; #{title}
   .row
    .col-md-8
     .panel.panel-warning
      .panel-heading
       h4 종목 과거 정보
      .panel-body
       table.table.table-striped.table-hover.table-condense
        tr
         th 일자
         th 시가
         th 종가
         th 변동폭
         th 고가
         th 저가
        - var prev = {};
        each item in curr
         tr(class=(item.diff>0)?'success':'danger')
          td= dateformat(item.at)
          td.text-right= currformat(item.start)
          td.text-right= currformat(item.close)
          td.text-right= diffformat(item.diff)
          td.text-right= currformat(item.high)
          td.text-right= currformat(item.low)
          - prev = item;
    .col-md-4
     .panel.panel-info
      .panel-heading
       h4 종목 차트
      .panel-body
       canvas#stock-chart(width='100%',height='400')
       canvas#vol-chart(width='100%',height='200')
     .panel.panel-success
      .panel-heading
       h4 종목 예측 정보
      .panel-body
       if expect
        ul.list-group
         li.list-group-item
          span.label.label-info 내일 오를까?
          span &nbsp; #{predictformat(expect[0])}
         li.list-group-item
          span.label.label-info 5일 내에 오를까?
          span &nbsp; #{predictformat(expect[1])}
         li.list-group-item
          span.label.label-info 10일 내에 오를까?
          span &nbsp; #{predictformat(expect[2])}
         li.list-group-item
          span.label.label-warning 언제 살까?
          span &nbsp; #{expect[3] < expect[5] ? "5일 후"+predictformat(expect[3]) : "5일 내"+predictformat(expect[5])}
         li.list-group-item
          span.label.label-warning 언제 팔까?
          span &nbsp; #{expect[4] < expect[6] ? "5일 후"+predictformat(expect[4]) : "5일 내"+predictformat(expect[6])}