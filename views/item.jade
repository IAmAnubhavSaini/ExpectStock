html
 head
  link(href='https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css',rel='stylesheet')
  link(href='/static/app.css',rel='stylesheet')
  script(src='/static/chart-lib.js')
 body
  .container
   h2
    span.label.label-success.pull-left= code
    span &nbsp; #{title}
   .row
    .col-md-8
     .panel.panel-warning
      .panel-heading
       h4 종목 과거 정보
      .panel-body
       table.table.table-striped.table-hover.table-condense
        tr
         th 일자
         th 시가
         th 종가
         th 변동폭
         th 고가
         th 저가
        - var prev = {};
        each item in curr
         tr(class=(item.diff>0)?'success':'danger')
          td= dateformat(item.at)
          td.text-right= currformat(item.start)
          td.text-right= currformat(item.close)
          td.text-right= diffformat(item.diff)
          td.text-right= currformat(item.high)
          td.text-right= currformat(item.low)
          - prev = item;
    .col-md-4
     .panel.panel-success
      .panel-heading
       h4 종목 예측 정보
      .panel-body
       if expect
        ul.list-group
         li.list-group-item
          span.label.label-info 오를까?
          | &nbsp;
          span.label.label-warning(style='opacity:'+expect[0], title=predictformat(expect[0])) 내일
          span.label.label-warning(style='opacity:'+expect[1], title=predictformat(expect[1])) 1주
          span.label.label-warning(style='opacity:'+expect[2], title=predictformat(expect[2])) 2주
         li.list-group-item
          span.label.label-warning 언제 살까?
          | &nbsp;
          span.label.label-success(style='opacity:'+expect[5], title=predictformat(expect[5])) 5일 내?
          span.label.label-success(style='opacity:'+expect[3], title=predictformat(expect[3])) 5일 후?
         li.list-group-item
          span.label.label-warning 언제 팔까?
          | &nbsp;
          span.label.label-success(style='opacity:'+expect[6], title=predictformat(expect[6])) 5일 내?
          span.label.label-success(style='opacity:'+expect[4], title=predictformat(expect[4])) 5일 후?
         li.list-group-item
          span.label.label-warning 얼마나?
          | &nbsp;
          span.label.label-success(style='opacity:'+expect[7], title=predictformat(expect[7])) #{currformat(price * 1.04)}
          | &nbsp;
          span.label.label-success(style='opacity:'+expect[8], title=predictformat(expect[8])) #{currformat(price * 1.02)}
          | &nbsp;
          span.label.label-success(style='opacity:'+expect[9], title=predictformat(expect[9])) #{currformat(price)}
          | &nbsp;
          span.label.label-success(style='opacity:'+expect[10], title=predictformat(expect[10])) #{currformat(price * 0.98)}
          | &nbsp;
          span.label.label-success(style='opacity:'+expect[11], title=predictformat(expect[11])) #{currformat(price * 0.96)}
     .panel.panel-info
      .panel-heading
       h4 종목 차트
      #charts.panel-body
       h5 주가 추이
       canvas#stock-chart(height='250')
       h5 거래량 추이
       canvas#vol-chart(height='100')
       script(src='/static/chart.js')
       script(src='/chart?id='+code+'&cb=loaded')
